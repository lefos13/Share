#GLOBAL SXOLIO. OLA TA ERROR EPISTREFOUN ME KATALILO STATUS

#service poy ftiaxnei token ston xrhsth, enw an den einai verified stelnei email ston xrhsth kai to otp ston client gia epivevaiwsh
POST http://localhost:3000/createtoken
Content-Type: application/json

{
    "data":{
        "email": "cs141082@uniwa.gr"
    }
}

RESPONSE: 
{
  "message": "Επιτυχής δημιουργία του token",
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImNzMTQxMDgyQHVuaXdhLmdyIiwiZGF0YSI6IjIwMjEtMTItMDZUMjE6MjY6MDQuNjI3WiIsImlhdCI6MTYzODgyNTk2NCwiZXhwIjoxNjQ0MDA5OTY0fQ.hAHANlGIr5M-kvtikronwbhjSoIxmqhugUPj-q2JQ-A"
}

###

#service pou kanei update to password you user sth vash
POST http://localhost:3000/updateUserPass
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImNzMTQxMDgyQHVuaXdhLmdyIiwiaWF0IjoxNjMzOTkyOTg3LCJleHAiOjE2MzkxNzY5ODd9.cScBdSAXzH2qrljnvWdROnof4rTu1hrWInb6A-rvhFU


{
    "data":{
        "email": "cs141082@uniwa.gr",
        "pass": "123456"
    }
}

RESPONSE:
{
  "message": "Ο κωδικός ανανεώθηκε."
}


###

#service poy kanei register ton xrhsth sth vash kai stelnei amesws otp gia epivevaish tou email
POST  http://localhost:3000/register
Content-Type: application/json

{
    "data":{
        "email": "cs141082@uniwa.gr",
        "password": "12345",
        "mobile": "12313",
        "fullname": "lefos evan",
        "gender": "male",
        "car": "toyota",
        "cardate": "1996",
        "age": "26",
        "photo": "12131231"
    }
}

RESPONSE:
{
  "body": {
    "message": "Εγγραφήκατε επιτυχώς. Πάμε για την εξακρίβωση του email!",
    "otp": "5568"
  }
}

RESPONSE ERROR 405:
{
  "message": "Βρέθηκε λογαριασμός με το ίδιο email."
}

###

#service pou kanei verify to xrhsth sth vash dedomenwn, afou kanei epibebaiwsh to otp tou ston client
POST http://localhost:3000/verify
Content-Type: application/json

{
    "data":{
        "email": "cs141082@uniwa.gr"
    }
}

RESPONSE:
{
  "message": "Το email επιβεβαιώθηκε με επιτυχία."
}

###

#service pou elegxei ta stoixeia tou xrhsth otan kanei login
POST http://localhost:3000/login
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImxlZnRlcmlzZXZhZ2VsaW5vczE5OTZAZ21haWwuY29tIiwiaWF0IjoxNjMzOTkxNjI1LCJleHAiOjE2MzkxNzU2MjV9.HJLfuo2HWDb8KpdRQRgajL3bk67fdFBI0j5WbkEZIkM

{
    "data":{
        "email": "cs141082@uniwa.gr",
        "pass": "123456"
    }
}

RESPONSE:
{
  "message": "Επιτυχής είσοδος.",
  "user": {
    "email": "cs141082@uniwa.gr",
    "password": null,
    "mobile": "12313",
    "fullname": "lefos evan",
    "car": "toyota",
    "cardate": "1996",
    "gender": "male",
    "age": "26",
    "photo": "12131231",
    "facebook": null,
    "instagram": null,
    "verified": true
  }
}

RESPONSE ERROR 405:
{
  "message": "Λάθος κωδικός."
}

###

#service poy stelnei otp ston xrhsth kai ston client gia epibebaiwsh
POST http://localhost:3000/passotp
Content-Type: application/json

{
    "data": {
        "email": "cs141082@uniwa.gr"
    }
}

RESPONSE:
{
  "message": "Έλεγξε το email σου για τον ειδικό κωδικό.",
  "otp": "6768"
}

###





#service pou ftiaxneis ena post
POST http://localhost:3000/createpost
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImNzMTQxMDM5QHVuaXdhLmdyIiwiaWF0IjoxNjMzOTA0Mzc3LCJleHAiOjE2MzkwODgzNzd9.gca_86jwWOpVujOSo25W1DOz2A0wXZ7JgbrkWOhqCSA

#to moreplaces einai akoma upo kataskeuh. Den exoume dei pws akrivws tha mou ta stelneis
#ta stardate kai to enddate tha voleue na einai se afto to format akrivws gia na anagnwrizetai apo tin vasi
{
    "data": {
        "email": "lefterisevagelinos1996@gmail.com",
        "date": "2021-11-1",
        "startplace": "volos",
        "startcoord": "23",
        "endplace": "Athens",
        "endcoord": "23",
        "numseats": 3,
        "startdate": "2021-11-15",
        "enddate": "2021-11-17",
        "costperseat": 20,
        "comment": "Αν δεν επικοινωνήσω σημαίνει ότι δεν υπάρχουν θέσεις.",
        "moreplaces": [
            {
                    "place": "lamia",
                    "placecoords": "123"
            },
            {
                    "place": "lamia",
                    "placecoords": "123"
            }
        ]
    }
}

RESPONSE EXAMPLE:
{
  "body": {
    "postid": 74,
    "email": "lefterisevagelinos1996@gmail.com",
    "date": "2021-10-31T22:00:00.000Z",
    "startplace": "volos",
    "startcoord": "23",
    "endplace": "Athens",
    "endcoord": "23",
    "numseats": 3,
    "startdate": "2021-11-15",
    "enddate": "2021-11-17",
    "costperseat": 20,
    "comment": "Αν δεν επικοινωνήσω σημαίνει ότι δεν υπάρχουν θέσεις.",
    "moreplaces": [
      {
        "place": "lamia",
        "placecoords": "123"
      },
      {
        "place": "lamia",
        "placecoords": "123"
      }
    ]
  },
  "message": "Η Εγγραφή του post έγινε επιτυχώς."
}

###

#service poy kaleis gia na deiksei kapoios endiaferon gia ena post
#douleuei me url params

POST http://localhost:3000/interested
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImxlZnRlcmlzZXZhZ2VsaW5vczE5OTZAZ21haWwuY29tIiwiaWF0IjoxNjMzOTkxNjI1LCJleHAiOjE2MzkxNzU2MjV9.HJLfuo2HWDb8KpdRQRgajL3bk67fdFBI0j5WbkEZIkM

{
    "data": {
        "email": "lefterisevagelinos1996@gmail.com",
        "postid": 650
    }
}

RESPONSE EXAMPLE:
{
  "body": {
    "piid": 12,
    "email": "lefterisevagelinos1996@gmail.com",
    "postid": "29",
    "date": "2021-11-12T21:09:18.000Z"
  },
  "message": "Ο οδηγός θα ενημερωθεί πως ενδιαφέρθηκες"
}

###

#service pou sou epistrefei lista me posts (paginated ana 20 kai ordered me vasi imeromhnia)
POST http://localhost:3000/searchposts
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImxlZnRlcmlzZXZhZ2VsaW5vczE5OTZAZ21haWwuY29tIiwiaWF0IjoxNjMzOTkxNjI1LCJleHAiOjE2MzkxNzU2MjV9.HJLfuo2HWDb8KpdRQRgajL3bk67fdFBI0j5WbkEZIkM

{
    "data": {
        "email": "lefterisevagelinos1996@gmail.com",
        "startplace": "Τρίκαλα",
        "startcoord": "123",
        "endplace": "Γαλατάς",
        "endcoord": "1",
        "startdate": "2021-10-05",
        "enddate": "2021-12-20",
        "page": 1,
        "cost": 100,
        "age": null,
        "age_end": null,
        "car": null,
        "cardate": null,
        "gender": null
    }
}

RESPONSE:
#afto tha to doume ligo mazi ama exeis apories gia ta pedia giati exei polla stoixeia pou sou epistrefw
{
  "body": {
    "postuser": [
      {
        "user": {
          "email": "lefterisevagelinos1996@gmail.com",
          "fullname": "lefos evan",
          "car": "TOYOTA",
          "cardate": "1999",
          "gender": "male",
          "age": "25",
          "photo": "1"
        },
        "imagepath": "images/lefterisevagelinos1996@gmail.com.jpeg",
        "post": {
          "postid": 230,
          "email": "lefterisevagelinos1996@gmail.com",
          "startplace": "Volos",
          "startcoord": "31",
          "endplace": "Athens",
          "endcoord": "23",
          "numseats": 2,
          "startdate": "2021-10-25",
          "enddate": "2021-11-30",
          "costperseat": 1,
          "comment": "Αν δεν επικοινωνήσω σημαίνει ότι δεν υπάρχουν θέσεις.",
          "moreplaces": [
            {
              "place": "lamia",
              "placecoords": "123"
            },
            {
              "place": "lamia",
              "placecoords": "123"
            }
          ],
          "date": "2021-10-06T00:00:00.000Z"
        },
        "interested": false,
        "creationDate": "06-10-2021 03:00"
      }
    ],
    "total_pages": 1,
    "pagelength": 1
  },
  "message": null
}

###

#service pou anazhtei kapoion xrhsth kai epistrefei ta stoixeia toy
GET http://localhost:3000/searchuser
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImxlZnRlcmlzZXZhZ2VsaW5vczE5OTZAZ21haWwuY29tIiwiaWF0IjoxNjMzOTkxNjI1LCJleHAiOjE2MzkxNzU2MjV9.HJLfuo2HWDb8KpdRQRgajL3bk67fdFBI0j5WbkEZIkM

{
    "data": {
        "email": "cs141082@uniwa.gr"
    }
}

#average einai o mesos oros kritikwn. The epistrefei null an den exei kritikes
#to reviews einai array me tis kritikes tou xrhsth. tha epistrefei adeio array otan den exei kritikes
RESPONSE: 
{
  "average": 5,
  "count": 35,
  "user": {
    "email": "lefterisevagelinos1996@gmail.com",
    "password": "$2b$10$Fuf84d20auAPClGnqlf0UOVCtSbl9XJLJAiDaffRbtkS5PRIiqO9C",
    "mobile": "6975620785",
    "fullname": "lefos evan",
    "car": "TOYOTA",
    "cardate": "1999",
    "gender": "male",
    "age": "25",
    "photo": "1",
    "facebook": null,
    "instagram": null,
    "verified": true
  },
  "reviewAble": true,
  "image": "images/lefterisevagelinos1996@gmail.com.jpeg",
  "message": "Ο χρήστης βρέθηκε"
}
###

#get reviews
POST http://localhost:3000/getReviews
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImxlZnRlcmlzZXZhZ2VsaW5vczE5OTZAZ21haWwuY29tIiwiaWF0IjoxNjMzOTkxNjI1LCJleHAiOjE2MzkxNzU2MjV9.HJLfuo2HWDb8KpdRQRgajL3bk67fdFBI0j5WbkEZIkM

{
    "data": {
        "email": "lefterisevagelinos1996@gmail.com",
        "page": 2
    }
}

RESPONSE:
{
  "body": {
    "reviews": [
      {
        "email": "lefterisevagelinos1996@gmail.com",
        "emailreviewer": "cs141096@uniwa.gr",
        "rating": 5,
        "text": "Πολύ καλός οδηγός, αλλά μιλάει συνέχεια",
        "createdAt": "2021-11-22 22:15:00",
        "updatedAt": "2021-11-22 19:16:31"
      },
      {
        "email": "lefterisevagelinos1996@gmail.com",
        "emailreviewer": "cs1410965@uniwa.gr",
        "rating": 5,
        "text": "Πολύ καλός οδηγός, αλλά μιλάει συνέχεια",
        "createdAt": "2021-11-22 22:15:00",
        "updatedAt": "2021-11-22 19:16:27"
      },
      {
        "email": "lefterisevagelinos1996@gmail.com",
        "emailreviewer": "cs141097@uniwa.gr",
        "rating": 5,
        "text": "Πολύ καλός οδηγός, αλλά μιλάει συνέχεια",
        "createdAt": "2021-11-22 22:15:00",
        "updatedAt": "2021-11-22 19:16:34"
      },
      {
        "email": "lefterisevagelinos1996@gmail.com",
        "emailreviewer": "cs141098@uniwa.gr",
        "rating": 5,
        "text": "Πολύ καλός οδηγός, αλλά μιλάει συνέχεια",
        "createdAt": "2021-11-22 22:15:00",
        "updatedAt": "2021-11-22 19:16:38"
      },
      {
        "email": "lefterisevagelinos1996@gmail.com",
        "emailreviewer": "cs141099@uniwa.gr",
        "rating": 5,
        "text": "Πολύ καλός οδηγός, αλλά μιλάει συνέχεια",
        "createdAt": "2021-11-22 22:15:00",
        "updatedAt": "2021-11-22 19:15:59"
      }
    ],
    "average": 5
  },
  "message": "Αξιολογήσεις, Page: 2"
}

#Service pou eisagei ena review sth vash
POST http://localhost:3000/createreview
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImxlZnRlcmlzZXZhZ2VsaW5vczE5OTZAZ21haWwuY29tIiwiaWF0IjoxNjMzOTkxNjI1LCJleHAiOjE2MzkxNzU2MjV9.HJLfuo2HWDb8KpdRQRgajL3bk67fdFBI0j5WbkEZIkM

#email: einai autos gia ton opoio ginetai to review
#emailreviewer: einai autos poy kanei to review
{
    "data": {
        "email": "lefterisevagelinos1996@gmail.gr",
        "emailreviewer": "cs141082@uniwa.gr",
        "rating": 5,
        "text": "Πολύ καλός οδηγός, αλλά μιλάει συνέχεια"
    }
}

#to createdAt einai timestamp pou krataei pote ginetai to review. Ginetai generate apo emena automata
# (skeftika mporei na xrhsimeusei sthn poreia)
Response: 
{
  "review": {
    "createdAt": "2021-11-28T18:58:23.276Z",
    "email": "lefterisevagelinos19961@gmail.com",
    "emailreviewer": "cs141082@uniwa.gr",
    "rating": 5,
    "text": "Πολύ καλός οδηγός, αλλά μιλάει συνέχεια"
  },
  "average": 5,
  "count": 1,
  "message": "Η αξιολόγηση έγινε επιτυχώς!"
}

###

#service epistrefei lista me posts enos xrhsth
GET http://localhost:3000/getpostsperuser?email=lefterisevagelinos1996@gmail.com
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImxlZnRlcmlzZXZhZ2VsaW5vczE5OTZAZ21haWwuY29tIiwiaWF0IjoxNjMzOTkxNjI1LCJleHAiOjE2MzkxNzU2MjV9.HJLfuo2HWDb8KpdRQRgajL3bk67fdFBI0j5WbkEZIkM

response: 
{
  "body": [
    {
      "postid": 45,
      "email": "lefterisevagelinos1996@gmail.com",
      "startplace": "volos",
      "endplace": "Athens",
      "numseats": 3,
      "startdate": "2021-11-25",
      "enddate": "2021-11-26",
      "costperseat": 20,
      "comment": "Αν δεν επικοινωνήσω σημαίνει ότι δεν υπάρχουν θέσεις.",
      "moreplaces": {
        "places": "Larisa-Trikala-Lamia"
      },
      "date": "2021-11-03"
    }
  ]
}
###

#service epistrefei lista me endiaferomenous apo ena post
GET http://localhost:3000/getinterested?postid=45
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImxlZnRlcmlzZXZhZ2VsaW5vczE5OTZAZ21haWwuY29tIiwiaWF0IjoxNjMzOTkxNjI1LCJleHAiOjE2MzkxNzU2MjV9.HJLfuo2HWDb8KpdRQRgajL3bk67fdFBI0j5WbkEZIkM

#sthn ousia epistrefei ena array me ta eimail twn endiaferomenwn. Endexomenws edw na itheles perissotera stoixeia gia ton kathena
#alla sto plano eixame shmeiwsei mono auta
response:
{
  "body": [
    {
      "piid": 70,
      "postid": 849,
      "email": "lefterisevagelinos1996@gmail.com",
      "date": "2021-11-28T16:58:26.000Z"
    }
  ]
}
###

#service poy epistrfei to plithos ton endiaferomenwn olwn twn post enos user
#auto to api paizei na einai entelws axristo. Den kserw kan giati to eftiaksa otan to eftiaksa
GET http://localhost:3000/getlofinterested?email=cs141082@uniwa.gr
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImxlZnRlcmlzZXZhZ2VsaW5vczE5OTZAZ21haWwuY29tIiwiaWF0IjoxNjMzOTkxNjI1LCJleHAiOjE2MzkxNzU2MjV9.HJLfuo2HWDb8KpdRQRgajL3bk67fdFBI0j5WbkEZIkM

response:
5 
#dhladh enan arithmo = me to plithos twn endiaferomenwn
###
